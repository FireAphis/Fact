#!/usr/bin/ruby

# FireAphisClearerTool (FACT) is a small project intended to make a life
# with ClearCase a little bit happier. The project tries to achieve the
# goal in two ways:
#
# 1. Create an intuitive front end for IBM Rational ClearCase SCM.
# 2. Create a library that simplifies the process of development of scripts
#    that interact with ClearCase.
#
# Execute +fact+ to enter the interactive mode. 
# +fact+ is expected to be executed from a ClearCase view directory.
# All the commands will be handled in respect to this view.
#
# It is possible to require +fact+ to access ClearCase from Ruby code.
# Consult Fact::ClearCase for the list of the supported ClearCase operations.

require "rubygems"
require "fact"


cc = Fact::ClearCase.new

stream_name = cc.get_current_stream
exit(true) if stream_name.empty?

say("You are viewing ClearCase stream <%= color('#{stream_name}', BOLD) %>")
say("Available actions are:")
choose do |menu|
  menu.prompt    = "Choose an action: "
  menu.select_by = :index

  menu.choice("Browse activities")   { Fact::Cli.browse_actifities  }
  menu.choice("Show hijacked files") { Fact::Cli.browse_hijacked    } 
end
